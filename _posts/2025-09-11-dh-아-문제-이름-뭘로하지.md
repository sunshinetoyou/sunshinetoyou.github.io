---
layout: post
title: "[DH] 아 문제 이름 뭘로하지"
category: Write-Up
tag:
- dreamhack
- reversing
date: 2025-09-11 23:48 +0900
---
### INFO
![chall]
_Fig 1. challenge_

실행파일이 하나 주어진다.

### RECON

기드라로 파일을 분석한다.

입력값과 플래그를 인코딩하여 비교한다.

이때 인코딩하는 과정에 매우 복잡하다. 인코딩을 역연산하여 플래그를 획득할 수 있겠지만 시간과 심력이 낭비될 것이다.

~~필자는 처음 접근하였을 때 무식하게 역연산하여 구했다..~~

![풀었으면]
_Fig 2. ???: 하지만 풀었으면 됐잖아요?_

그렇다면 좋은 풀이 방법은 무엇일까?

개인적으로는 GDB를 사용한 메모리 단에서 플래그를 가져오는 것이 가장 효율적이라 생각한다.

~~(플래그를 메모리에서 가져오는 로직이 간단하여 역연산 로직을 짜도 되지만..)~~

### SOLVE

필자도 이번에 처음 GDB를 써본 거라 깊이가 매우 얕으니 미리 죄송하다..

일단 pwndbg가 설치되어 있다는 전제 하에 설명을 이어간다.<br>
(설치링크: https://github.com/pwndbg/pwndbg)

dbg에서 절대 빼놓을 수 없는 기능은 bp(breakPoint)일 것이다.

이때, 가장 큰 에로사항이 정적 주소를 동적 주소로 어떻게 변환을 할 수 있느냐 이다.

리버싱 수업에서 귀동냥한 지식에 따르면, 실행 바이너리 내부에 base 주소가 있고 정적으로 원하는 위치의 offset을 구한 다음 base주소 + offset을 하여 구해야 되는 꽤나 복잡한 과정이 필요했다.

하지만 pwndbg에서는 start로 프로그램을 실행시킨 뒤 **`rebase()`** 함수를 통해 주소 변환을 쉽게 만들어준다. (이거 설명하고 싶어서 포스트했다!)

그렇게 기드라에서 정적 주소를 획득하고(기드라에서 기본적으로 세팅하는 base 주소를 제거해야 한다.), rebase()에 넣어주면 원하는 곳에 bp를 걸 수 있다!!!!

이 글은 나중에 ELF 바이너리 공부를 마무리하고 난 다음에 수정하겠다..! 꼭..!

### POC

[chall]: /assets/DreamHack/아%20문제%20이름%20뭘로하지/chall.png
[풀었으면]: /assets/DreamHack/아%20문제%20이름%20뭘로하지/풀었으면.jpeg